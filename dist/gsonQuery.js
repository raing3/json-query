/*! For license information please see gsonQuery.js.LICENSE.txt */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("gsonQuery",[],r):"object"==typeof exports?exports.gsonQuery=r():e.gsonQuery=r()}("undefined"!=typeof self?self:this,(function(){return(()=>{var __webpack_modules__={397:function(e){"undefined"!=typeof self&&self,e.exports=(()=>{"use strict";var e={431:(e,r,t)=>{function n(e){return"#"===e||""===e||Array.isArray(e)&&0===e.length||!1}t.r(r),t.d(r,{default:()=>P,get:()=>p,isRoot:()=>n,join:()=>A,remove:()=>y,removeUndefinedItems:()=>x,set:()=>m,split:()=>c});const o=/~1/g,i=/~0/g,a=/\/+/g,s=/(^[#/]*|\/+$)/g;function l(e){return e.replace(o,"/").replace(i,"~")}function u(e){return l(decodeURIComponent(e))}function c(e){if(null==e||"string"!=typeof e||n(e))return Array.isArray(e)?e:[];const r=e.indexOf("#")>=0?u:l,t=(e=(e=e.replace(a,"/")).replace(s,"")).split("/");for(let e=0,n=t.length;e<n;e+=1)t[e]=r(t[e]);return t}function p(e,r,t){if(null==r||null==e)return t;if(n(r))return e;const o=f(e,c(r));return void 0===o?t:o}function f(e,r){const t=r.shift();if(void 0!==e)return void 0!==t?f(e[t],r):e}const h=/^\[.*\]$/,d=/^\[(.+)\]$/;function m(e,r,t){if(null==r)return e;const n=c(r);if(0===n.length)return e;null==e&&(e=h.test(n[0])?[]:{});let o,i,a=e;for(;n.length>1;)o=n.shift(),i=h.test(n[0]),a=E(a,o,i);return o=n.pop(),g(a,o,t),e}function g(e,r,t){let n;const o=r.match(d);"[]"===r&&Array.isArray(e)?e.push(t):o?(n=o.pop(),e[n]=t):e[r]=t}function E(e,r,t){if(null!=e[r])return e[r];const n=t?[]:{};return g(e,r,n),n}function x(e){let r=0,t=0;for(;r+t<e.length;)void 0===e[r+t]&&(t+=1),e[r]=e[r+t],r+=1;return e.length=e.length-t,e}function y(e,r,t){const n=c(r),o=n.pop(),i=p(e,n);return i&&delete i[o],Array.isArray(i)&&!0!==t&&x(i),e}const _=/\/+/g,b=/~/g,R=/\//g;function S(e,r){if(0===e.length)return r?"#":"";for(let t=0,n=e.length;t<n;t+=1)e[t]=e[t].replace(b,"~0").replace(R,"~1"),r&&(e[t]=encodeURIComponent(e[t]));return((r?"#/":"/")+e.join("/")).replace(_,"/")}function A(e,...r){const t=[];if(Array.isArray(e))return S(e,!0===arguments[1]);const n=arguments[arguments.length-1],o="boolean"==typeof n?n:e&&"#"===e[0];for(let e=0,r=arguments.length;e<r;e+=1)t.push.apply(t,c(arguments[e]));const i=[];for(let e=0,r=t.length;e<r;e+=1)if(".."===t[e]){if(0===i.length)return o?"#":"";i.pop()}else i.push(t[e]);return S(i,o)}const P={get:p,set:m,remove:y,join:A,split:c,isRoot:n,removeUndefinedItems:x}}},r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{}};return e[n](o,o.exports,t),o.exports}return t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t(431)})()},723:(e,r,t)=>{"use strict";const n=t(802);var o;!function(e){e.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[["'\"'",/[^"]*/,"'\"'"],['"\'"',/[^']*/,'"\'"']],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],e.defaultParser=new n.Parser(e.RULES,{debug:!1});const r=/^(!|&)/,t=/(\?|\+|\*)$/,o=/^%/;function i(e,i){if("string"==typeof e){if(r.test(e))return"";if(o.test(e)){let r=t.exec(e),o=r?r[0]+" ":"";return function(e,r){let t=n.findRuleByName(e,r);return t&&1==t.bnf.length&&1==t.bnf[0].length&&(t.bnf[0][0]instanceof RegExp||'"'==t.bnf[0][0][0]||"'"==t.bnf[0][0][0])}(e,i)?a(e,i)+o:"("+a(e,i)+")"+o}return e}return e.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function a(e,r){let t=n.findRuleByName(e,r);return t?t.bnf.map((e=>function(e,r){return e.map((e=>i(e,r))).join(" ")}(e,r))).join(" | "):"RULE_NOT_FOUND {"+e+"}"}function s(e){let r=[];return e.grammarRules.forEach((t=>{if(!/^%/.test(t.name)){let n=t.recover?" /* { recoverUntil="+t.recover+" } */":"";r.push(t.name+" ::= "+a(t.name,e)+n)}})),r.join("\n")}e.emit=s;let l=0;function u(e){return new RegExp(e.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function c(e,r,t){let n=null,o=[];return r.children.forEach(((i,a)=>{"Minus"==i.type&&function(e,r){throw console.log("reberia restar "+r+" a "+e),new Error("Difference not supported yet")}(n,i);let s=r.children[a+1];s=s&&"PrimaryDecoration"==s.type&&s.text||"";switch(i.type){case"SubItem":let r="%"+(t+l++);p(e,i,r),o.push(""+r+s);break;case"NCName":case"StringLiteral":o.push(""+i.text+s);break;case"CharCode":case"CharClass":if(s){let r={name:"%"+(t+l++),bnf:[[u(i.text)]]};e.push(r),o.push(""+r.name+s)}else o.push(u(i.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+i.type+" -> "+JSON.stringify(i.text))}n=i})),o}function p(e,r,t){let n=r.children.filter((e=>"SequenceOrDifference"==e.type)).map((r=>c(e,r,t))),o={name:t,bnf:n},i=null;n.forEach((e=>{i=i||e.recover,delete e.recover})),0==t.indexOf("%")&&(o.fragment=!0),i&&(o.recover=i),e.push(o)}function f(r,t=e.defaultParser){let n=t.getAST(r);if(!n)throw new Error("Could not parse "+r);if(n.errors&&n.errors.length)throw n.errors[0];let o=[];return n.children.filter((e=>"Production"==e.type)).map((e=>{let r=e.children.filter((e=>"NCName"==e.type))[0].text;p(o,e,r)})),o}e.getRules=f,e.Transform=function(r,t=e.defaultParser){return f(r.join(""),t)};class h extends n.Parser{constructor(r,t){super(f(r,t&&!0===t.debugRulesParser?new n.Parser(e.RULES,{debug:!0}):e.defaultParser),t)}emitSource(){return s(this)}}e.Parser=h}(o||(o={})),r.Z=o},802:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Parser=exports.findRuleByName=exports.parseRuleName=exports.escapeRegExp=exports.readToken=void 0;const UPPER_SNAKE_RE=/^[A-Z0-9_]+$/,decorationRE=/(\?|\+|\*)$/,preDecorationRE=/^(@|&|!)/,WS_RULE="WS",TokenError_1=__webpack_require__(239);function readToken(e,r){let t=r.exec(e);return t&&0==t.index?0==t[0].length&&r.source.length>0?null:{type:null,text:t[0],rest:e.substr(t[0].length),start:0,end:t[0].length-1,fullText:t[0],errors:[],children:[],parent:null}:null}function escapeRegExp(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function fixRest(e){e.rest="",e.children&&e.children.forEach((e=>fixRest(e)))}function fixPositions(e,r){e.start+=r,e.end+=r,e.children&&e.children.forEach((r=>fixPositions(r,e.start)))}function agregateErrors(e,r){r.errors&&r.errors.length&&r.errors.forEach((r=>e.push(r))),r.children&&r.children.forEach((r=>agregateErrors(e,r)))}function parseRuleName(e){let r=decorationRE.exec(e),t=preDecorationRE.exec(e),n=r&&r[0]||"",o=t&&t[0]||"",i={raw:e,name:e.replace(decorationRE,"").replace(preDecorationRE,""),isOptional:"?"==n||"*"==n,allowRepetition:"+"==n||"*"==n,atLeastOne:"+"==n,lookupPositive:"&"==o,lookupNegative:"!"==o,pinned:"@"==o,lookup:!1,isLiteral:!1};return i.isLiteral="'"==i.name[0]||'"'==i.name[0],i.lookup=i.lookupNegative||i.lookupPositive,i}function findRuleByName(e,r){let t=parseRuleName(e);return r.cachedRules[t.name]||null}function stripRules(e,r){if(e.children){let t=e.children.filter((e=>e.type&&r.test(e.type)));for(let r=0;r<t.length;r++){let n=e.children.indexOf(t[r]);-1!=n&&e.children.splice(n,1)}e.children.forEach((e=>stripRules(e,r)))}}exports.readToken=readToken,exports.escapeRegExp=escapeRegExp,exports.parseRuleName=parseRuleName,exports.findRuleByName=findRuleByName;const ignoreMissingRules=["EOF"];class Parser{constructor(e,r){this.grammarRules=e,this.options=r,this.cachedRules={},this.debug=!!r&&!0===r.debug;let t=[],n=[];if(e.forEach((e=>{let r=parseRuleName(e.name);if(r.name in this.cachedRules)t.push("Duplicated rule "+r.name);else{if(this.cachedRules[r.name]=e,e.bnf&&e.bnf.length)e.bnf.forEach((r=>{if("string"==typeof r[0]){if(parseRuleName(r[0]).name==e.name){let r="Left recursion is not allowed, rule: "+e.name;-1==t.indexOf(r)&&t.push(r)}}r.forEach((e=>{if("string"==typeof e){let r=parseRuleName(e);r.isLiteral||-1!=n.indexOf(r.name)||-1!=ignoreMissingRules.indexOf(r.name)||n.push(r.name)}}))}));else{let r="Missing rule content, rule: "+e.name;-1==t.indexOf(r)&&t.push(r)}WS_RULE==e.name&&(e.implicitWs=!1),e.implicitWs&&-1==n.indexOf(WS_RULE)&&n.push(WS_RULE),e.recover&&-1==n.indexOf(e.recover)&&n.push(e.recover)}})),n.forEach((e=>{e in this.cachedRules||t.push("Missing rule "+e)})),t.length)throw new Error(t.join("\n"))}getAST(e,r){r||(r=this.grammarRules.filter((e=>!e.fragment&&0!=e.name.indexOf("%")))[0].name);let t=this.parse(e,r);if(t){agregateErrors(t.errors,t),fixPositions(t,0),stripRules(t,/^%/),this.options&&this.options.keepUpperRules||stripRules(t,UPPER_SNAKE_RE);let e=t.rest;e&&new TokenError_1.TokenError("Unexpected end of input: \n"+e,t),fixRest(t),t.rest=e}return t}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(txt,target,recursion=0){let out=null,type=parseRuleName(target),expr,printable=this.debug&&!UPPER_SNAKE_RE.test(type.name);printable&&console.log(new Array(recursion).join("│  ")+"Trying to get "+target+" from "+JSON.stringify(txt.split("\n")[0]));let realType=type.name,targetLex=findRuleByName(type.name,this);if("EOF"==type.name){if(txt.length)return null;if(0==txt.length)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!targetLex&&type.isLiteral){let src=eval(type.name);if(""===src)return{type:"%%EMPTY%%",text:"",rest:txt,start:0,end:0,fullText:"",errors:[],children:[],parent:null};expr=new RegExp(escapeRegExp(src)),realType=null}}catch(e){return e instanceof ReferenceError&&console.error(e),null}if(expr){let e=readToken(txt,expr);if(e)return e.type=realType,e}else{let e=targetLex.bnf;e instanceof Array&&e.forEach((e=>{if(out)return;let r=null,t={type:type.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:txt};targetLex.fragment&&(t.fragment=!0);let n=txt,o=0,i=e.length>0,a=!1;for(let s=0;s<e.length;s++)if("string"==typeof e[s]){let l,u=parseRuleName(e[s]);i=i&&u.isOptional;let c=!1;do{if(l=null,targetLex.implicitWs&&(l=this.parse(n,u.name,recursion+1),!l)){let e;do{if(e=this.parse(n,WS_RULE,recursion+1),!e)break;t.text=t.text+e.text,t.end=t.text.length,e.parent=t,t.children.push(e),n=n.substr(e.text.length),o+=e.text.length}while(e&&e.text.length)}if(l=l||this.parse(n,u.name,recursion+1),u.lookupNegative){if(l)return;break}if(u.lookupPositive&&!l)return;if(!l){if(u.isOptional)break;if(u.atLeastOne&&c)break}if(l&&targetLex.pinned==s+1&&(r=l,printable&&console.log(new Array(recursion+1).join("│  ")+"└─ "+l.type+" PINNED")),l||(l=this.parseRecovery(targetLex,n,recursion+1)),!l){if(!r)return;out=t,l={type:"SyntaxError",text:n,children:[],end:n.length,errors:[],fullText:"",parent:null,start:0,rest:""},n.length?new TokenError_1.TokenError(`Unexpected end of input. Expecting ${u.name} Got: ${n}`,l):new TokenError_1.TokenError("Unexpected end of input. Missing "+u.name,l),printable&&console.log(new Array(recursion+1).join("│  ")+"└─ "+l.type+" "+JSON.stringify(l.text))}if(c=!0,a=!0,"%%EMPTY%%"==l.type)break;l.start+=o,l.end+=o,!u.lookupPositive&&l.type&&(l.fragment?l.children&&l.children.forEach((e=>{e.start+=o,e.end+=o,e.parent=t,t.children.push(e)})):(l.parent=t,t.children.push(l))),u.lookup&&(l.lookup=!0),printable&&console.log(new Array(recursion+1).join("│  ")+"└─ "+l.type+" "+JSON.stringify(l.text)),u.lookup||l.lookup||(t.text=t.text+l.text,t.end=t.text.length,n=n.substr(l.text.length),o+=l.text.length),t.rest=n}while(l&&u.allowRepetition&&n.length&&!l.lookup)}else{let r=readToken(n,e[s]);if(!r)return;printable&&console.log(new Array(recursion+1).join("│  ")+"└> "+JSON.stringify(r.text)+e[s].source),a=!0,r.start+=o,r.end+=o,t.text=t.text+r.text,t.end=t.text.length,n=n.substr(r.text.length),o+=r.text.length,t.rest=n}a&&(out=t,printable&&console.log(new Array(recursion).join("│  ")+"├<─┴< PUSHING "+out.type+" "+JSON.stringify(out.text)))})),out&&targetLex.simplifyWhenOneChildren&&1==out.children.length&&(out=out.children[0])}return out||printable&&console.log(target+" NOT RESOLVED FROM "+txt),out}parseRecovery(e,r,t){if(e.recover&&r.length){let n=this.debug;n&&console.log(new Array(t+1).join("│  ")+"Trying to recover until token "+e.recover+" from "+JSON.stringify(r.split("\n")[0]+r.split("\n")[1]));let o,i={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""};do{if(o=this.parse(r,e.recover,t+1),o){new TokenError_1.TokenError('Unexpected input: "'+i.text+'" Expecting: '+e.name,i);break}i.text=i.text+r[0],i.end=i.text.length,r=r.substr(1)}while(!o&&r.length>0);if(i.text.length>0&&o)return n&&console.log(new Array(t+1).join("│  ")+"Recovered text: "+JSON.stringify(i.text)),i}return null}}exports.Parser=Parser,exports.default=Parser},239:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TokenError=void 0;class t extends Error{constructor(e,r){if(super(e),this.message=e,this.token=r,!r||!r.errors)throw this;r.errors.push(this)}inspect(){return"SyntaxError: "+this.message}}r.TokenError=t},483:e=>{"use strict";e.exports=function(e){return Array.isArray(e)?e:"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map((function(r){return e[r]})):[]}},453:e=>{"use strict";e.exports=function(e,r){Array.isArray(e)?e.forEach(r):"[object Object]"===Object.prototype.toString.call(e)&&Object.keys(e).forEach((function(t){r(e[t],t,e)}))}},691:(e,r,t)=>{"use strict";t(817),t(483),r.forEach=t(453),t(927),r.keys=t(988)},927:(e,r,t)=>{"use strict";var n=t(453);e.exports=function(e,r){var t=null;return n(e,(function(e,n){r===e&&(t=n)})),t}},988:e=>{"use strict";e.exports=function(e){var r;if(Array.isArray(e))r=e.map((function(e,r){return r}));else{if("[object Object]"===Object.prototype.toString.call(e))return Object.keys(e);r=[]}return r}},817:e=>{"use strict";e.exports=function(e){return Array.isArray(e)?e:"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map((function(r){return e[r]})):null!=e?[e]:[]}},331:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ReturnType:()=>y,default:()=>q,get:()=>_,remove:()=>D,set:()=>$,split:()=>S});var n=t(723);const o=new n.Z.Parser('\nroot ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)\nrecursion ::= (SEP query | pattern)*\n\nquery ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?\nproperty ::= [^?/{}*,()#]+\nregex ::= "{" [^}]+ "}"\nSEP ::= "/"\nall ::= "**"\nany ::= "*"\n\ntypecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")\nlookahead ::= "?" expression ((andExpr | orExpr) expression)*\nandExpr ::= S? "&&" S?\norExpr ::= S? "||" S?\n\nexpression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*\nexprProperty ::= [a-zA-Z0-9-_ $]+\nescaped ::= [^"]+\nis ::= ":"\nisnot ::= ":!"\nESC ::= \'"\'\n\npattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?\nquantifier ::= "+" | "*" | [0-9]+\norPattern ::= S? "," S?\n\nS ::= [ ]*\n'),i=e=>o.getAST(e);var a=t(691);const s=(e,r)=>`${e}/${r}`,l=Object.prototype.toString,u=/Object|Array/,c=e=>u.test(l.call(e));function p(e){return new RegExp(e.text.replace(/(^{|}$)/g,""))}const f={mem:[],get(e,r){const t=e[0][r];if(!f.mem.includes(t))return c(t)&&f.mem.push(t),[t,r,e[0],s(e[3],r)]},reset(){f.mem.length=0}},h={any(e,r){const t=r[0];return a.keys(t).map((e=>[t[e],e,t,s(r[3],e)]))},all(e,r){const t=[r];return a.forEach(r[0],((n,o)=>{const i=f.get(r,o);i&&t.push(...h.all(e,i))})),t},regex(e,r){const t=p(e),n=r[0];return a.keys(n).filter((e=>t.test(e))).map((e=>[n[e],e,n,s(r[3],e)]))}},d={escaped:(e,r)=>d.property(e,r),property:(e,r)=>{const t=e.text;if(r[0]&&void 0!==r[0][t])return[r[0][t],t,r[0],s(r[3],t)]},typecheck:(e,r)=>{const t=e.text.replace(/^\?:/,"");if("value"===t)return c(r[0])?void 0:r;var n;return(n=r[0],l.call(n).match(/\s([^\]]+)\]/).pop().toLowerCase())===t?r:void 0},lookahead:(e,r)=>{let t=!0,n=!1;return e.children.forEach((e=>{if("expression"===e.type){const o=void 0!==d.expression(e,r);t=!0===n?t||o:t&&o}else n="orExpr"===e.type})),t?r:void 0},expression:(e,r)=>{const t=e.children[0].text,n=e.children[1],o=e.children[2],i=r[0];if(!1!==c(i))return function(e,r,t){if(void 0===r)return void 0!==e;let n;const o=""+e;if("regex"===t.type){n=p(t).test(o)}else n=o===t.text;"isnot"===r.type&&(n=!1===n&&void 0!==e);return n}(i[t],n,o)?r:void 0}};function m(e,r,t){const n=[];let o=e;return r.children.forEach((r=>{if("orPattern"===r.type)return n.push(...o),void(o=e);o=E(o,r,t)})),n.push(...o),n}function g(e,r,t){const n=[],o=r.children.find((e=>"quantifier"===e.type)),i=function(e){if(null==e)return 1;if("*"===e||"+"===e)return 1/0;const r=parseInt(e);return isNaN(r)?1:r}(o&&o.text);let a=e;o&&"*"===o.text&&n.push(...a);let s=0;for(;a.length>0&&s<i;)a=m(a,r,t),n.push(...a),s+=1;return n}function E(e,r,t){let n;return n="query"===r.type?function(e,r,t){let n=e;return r.children.forEach((e=>{if(h[e.type])n=function(e,r,t,n){const o=[];for(let i=0,a=r.length;i<a;i+=1)o.push(...e(t,r[i],t,n));return o}(h[e.type],n,e,t);else{if(!d[e.type])throw new Error("Unknown filter "+e.type);n=function(e,r,t,n){const o=[];for(let i=0,a=r.length;i<a;i+=1){const a=e(t,r[i],n);a&&o.push(a)}return o}(d[e.type],n,e,t)}})),n}(e,r,t):"pattern"===r.type?g(e,r,t):function(e,r,t){let n=e;return r.children.forEach((e=>n=E(n,e,t))),n}(e,r,t),f.reset(),f.mem.push(e),n}const x={value:e=>e.map((e=>e[0])),pointer:e=>e.map((e=>e[3])),all:e=>e,map:e=>{const r={};return e.forEach((e=>r[e[3]]=e[0])),r}};var y;function _(e,r,t=y.VALUE){if(null==r)return[];""===(r=r.replace(/(\/$)/g,""))&&(r="#");const n=i(r);if(null==n)throw new Error(`empty ast for '${r}'`);if(""!==n.rest)throw new Error(`Failed parsing queryString from: '${n.rest}'`);const o=function(e,r){return f.reset(),f.mem.push(e),E([[e,null,null,"#"]],r)}(e,n);return"function"==typeof t?o.map((e=>t(...e))):x[t]?x[t](o):o}!function(e){e.POINTER="pointer",e.VALUE="value",e.ALL="all",e.MAP="map"}(y||(y={})),_.POINTER=y.POINTER,_.VALUE=y.VALUE,_.ALL=y.ALL,_.MAP=y.MAP;const b=["root","recursion"];function R(e,r=[]){return b.includes(e.type)?(e.children.forEach((e=>R(e,r))),r):(r.push(e.text),r)}function S(e){if(null==e||""===e)return[];return R(i(e))}const A=e=>JSON.parse(JSON.stringify(e)),P=Object.prototype.toString,L=e=>P.call(e).match(/\s([^\]]+)\]/).pop().toLowerCase(),C=new RegExp('^("[^"]+"|[^?/{}*,()#]+)$'),k=["string","number","boolean","null"],O=/^\[\d*\]$/,v=/^\[(\d+)\]$/,T=/^".+"$/,w=/(^\[\d*\]$|^\d+$)/;function U(e){return parseInt(e.replace(/^(\[|\]$)/,""))}function N(e){return T.test(e)?e.replace(/(^"|"$)/g,""):e}function j(e,r,t,n){const o=e[0];if(/^\[\]$/.test(r)){o.push(t);const r=o.length-1;return[o[r],r,o,`${e[3]}/${r}}`]}if(null==n&&"object"===L(o[r])&&"object"===L(t))return[o[r],r,o,`${e[3]}/${r}}`];if(n===$.INSERT_ITEMS||null==n&&v.test(r)){const n=U(r);return function(e,r,t){e.length<=r?e[r]=t:e.splice(r,0,t)}(o,n,t),[o[n],n,o,`${e[3]}/${n}}`]}if(n===$.REPLACE_ITEMS||null==n){const n=U(r);return o[n]=t,[o[n],n,o,`${e[3]}/${n}}`]}throw new Error(`Unknown array index '${r}' with force-option '${n}'`)}var I;function $(e,r,t,n){if(null==r)return A(e);if(""===(r=r.replace(/(\/$)/g,"")))return A(t);const o=A(e);let i=[[o,null,null,"#"]];const a=S(r),s=a.pop(),l=O.test(s)&&!1===v.test(s);if(!1===C.test(s)||l)throw new Error(`Unsupported query '${r}' ending with non-property`);return a.forEach(((e,r)=>{if("__proto__"===e||"prototyped"===e||"constructor"===e)return;if(!1===C.test(e))return void(i=function(e,r){const t=[];return e.forEach((e=>t.push(..._(e[0],r,y.ALL)))),t}(i,e));const t=r>=a.length-1?s:a[r+1],o=w.test(t);i=function(e,r,t,n){return r=N(r),e.filter((e=>!(!Array.isArray(e[0])||!w.test(r))||!1===k.includes(L(e[0][r])))).map((e=>{const o=t?[]:{},i=e[0];return Array.isArray(i)?j(e,r,o,n):(i[r]=i[r]||o,[i[r],r,i,`${e[3]}/${r}`])}))}(i,e,o,n)})),i.forEach((e=>{let r=t;"function"===L(t)&&(r=t(e[3],s,e[0],`${e[3]}/${s}`));const o=e[0];if(Array.isArray(o))j(e,s,r,n);else{const e=N(s);if("__proto__"===e||"prototyped"===e||"constructor"===e)return;o[e]=r}})),o}!function(e){e.REPLACE_ITEMS="replace",e.INSERT_ITEMS="insert"}(I||(I={})),$.REPLACE_ITEMS=I.REPLACE_ITEMS,$.INSERT_ITEMS=I.INSERT_ITEMS;var M=t(397);function D(e,r,t=!1){const n=[],o=_(e,r,y.ALL);return o.forEach((function(r){n.push(r[0]),(0,M.remove)(e,r[3],!0)})),o.forEach((function(e){Array.isArray(e[2])&&(0,M.removeUndefinedItems)(e[2])})),t?n:e}const q={get:_,set:$,split:S,remove:D,ReturnType:y}}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}return __webpack_require__.d=(e,r)=>{for(var t in r)__webpack_require__.o(r,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},__webpack_require__.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__(331)})()}));